<jqa:jqassistant-rules xmlns:jqa="http://www.buschmais.com/jqassistant/core/analysis/rules/schema/v1.0">

    <group id="jqa-legal">
        <includeConstraint refId="jqa-legal:license:exists"/>
    </group>


    <constraint id="jqa-legal:license:exists">
        <description><![CDATA[
            It must exist in the root directory of the project a
            readme file called 'LICENSE'.

            This file contains the license of the project
            and should help users to identify the type of license
            the project uses.
            ]]></description>
        <cypher><![CDATA[
            MATCH
                (license:File)

            WHERE
                license.fileName =~ '/LICENSE'

            RETURN
                CASE count(license)
                    WHEN 1 THEN 0
                    ELSE 1
                END AS missing
        ]]></cypher>
        <verify>
            <aggregation column="missing"/>
        </verify>
    </constraint>


</jqa:jqassistant-rules>
